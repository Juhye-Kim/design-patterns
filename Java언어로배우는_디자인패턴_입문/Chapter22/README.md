# Chapter22. Command - 명령을 클래스로하기

## Command 패턴

> '명령'을 오브젝트로 표현하고, 이력을 저장하거나 재실행할 수 있는 패턴

- 메서드 호출 결과는 객체 상태에 반영되지만, 일의 이력은 어디에도 남지 않는다.
- 그래서 **Command 패턴에서는 '명령'을 표현하는 클래스를 만들어, '메서드를 호출'하는 동적인 처리를 표현**한다.
  - 이력을 관리하고 싶다면, 이 클래스의 인스턴스 집합을 관리하면 된다!
- 명령 집합을 저장해두면, 동일한 명령을 재실행할 수도 있고, 여러명령을 모아 하나의 명령으로 재이용도 가능하다.
- 명령이 가지고 있어야 할 정보는 목적에 따라 다르게 구현 가능

> Commad = Event (사건)

- 이벤트가 발생할 때마다, 순서대로 나열하고, 순서대로 처리
- GUI 프로그래밍에서 많이 쓰임

> 이력의 저장 (history)

- 지금까지 실행된 모든 명령들에 대한 정보를 가짐
- 이 인스턴스로 파일로 잘 저장해두면, 그림그리기의 이력 저장 가능!

<br/><br/>

## 등장 인물

- **Command (명령)**
  - 명령 인터페이스(API) 정의
- **Concrete Command (구체적 명령)**
  - Command 인터페이스 구현
  - ex. MacroCommand, DrawCommand
- **Receiver (수신자)**
  - 명령 실행 대상
  - ex. DrawCanvas
- **Invoker (기동자)**
  - 명령 행동을 개시하는 역할
  - Command에서 정의되는 인터페이스(API)를 호출
  - ex. Main

<br/><br/>

## 관련 패턴

- **Composite 패턴**
  - Macro Command 실현을 위해 사용되기도 함
    - Marcro Command, Command 구분 X
- **Memento 패턴**
  - Command의 이력을 저장할 때 사용되기도 함
- **Prototype 패턴**
  - 발생한 이벤트를 복제할 때 사용되기도 함
