# 금고 경비 시스템

## State 패턴 미사용

```js
class 경비시스템 {
  금고사용시() {
    if (주간) 경비센터에 이용 기록
    else if (야간) 경비센터에 비상사태 통보
  }

  비상벨사용시() {
    경비센터에 비상벨 통보
  }

  일반통화시() {
    if (주간) 경비센터 호출
    else if (야간) 경비센터 자동응답기 호출
  }
}
```

- 주간, 야간 상태가 각 메서드 안의 if문에 등장
- 각 메서드에서 현재 상태를 조사

<br/><br/>

## State 패턴 사용

```js
class 주간상태 {
  금고사용시() {
    경비센터에 이용 기록
  }

  비상벨사용시() {
    경비센터에 비상벨 통보
  }

  일반통화시() {
    경비센터 호출
  }
}

class 야간상태 {
  금고사용시() {
    경비센터에 비상상태 통보
  }

  비상벨사용시() {
    경비센터에 비상벨 통보
  }

  일반통화시() {
    경비센터 자동응답기 호출
  }
}
```

- 상태가 클래스로 기술됨
  - 메서드 안에 묻혀있던 '상태'를 끄집어내서 외부로 표현
- 상태검사를 위한 if문 X
