# Chapter12. Decorator - 장식과 내용물을 동일시하기

## Decorator 패턴

> 오브젝트에 장식을 해 나가는 패턴

- `장식` = 기능!
  - 유연한 기능 확장을 위한 패턴
- 중심이 되는 오브젝트가 있고, 장식이 되는 기능을 하나씩 추가해 목적에 맞는 오브젝트 완성시킴
- 내용물, 장식을 동일시 (케잌과 장식을 동일시)
  - 장식을 둘러싼 내용물이 실제로는 다른 장식이 되는 구조
- `Composite 패턴`과 마찬가지로 재귀적인 구조를 취함

  - Decorator는 테두리 장식을 중복해서 기능을 추가하는 것에 중점을 둠!

    - ```js
      new FullBorder(
        new SideBorder(new FullBorder(new SideBorder(b1, "*"), "-"), "/"),
        "|"
      );
      ```

## 왜 사용할까?

> 내용물을 바꾸지 않고 기능을 추가할 수 있다.

- 내용물이 장식의 메서드를 호출 (위임)
  - 클래스 간의 느슨한 결합

> 단순한 장식이라도, 다양한 기능을 추가할 수 있다.

- 구체적인 여러가지 장식을 준비해두면, 자유롭게 조합해 사용 가능

> 작은 클래스가 많아진다는 단점

- 유사한 성질의 작은 클래스들(장식들)이 많이 생겨난다는 단점이 있음

## 관련 패턴

**Adaptar 패턴**

- Decorator: 내용물의 인터페이스(API) 변경 없이 장식 생성
- Adapter : 서로 다른 두 인터페이스(API)를 연결하기 위해 이용

**Strategy 패턴**

- Strategy : 알고리즘을 교체해 기능을 변경
- Decorator : 장식을 교체하거나 겹쳐서 기능 추가

## 상속의 동일시, 위임의 동일시

#### 상속 - 하위 클래스 & 상위 클래스 동일시

- Child 인스턴스를 Parent 인스턴스처럼 취급

```js
const obj = new Child();
obj.parentMethod();
```

#### 위임 - 자신 & 위임할 곳을 동일시

- `extends`보다 `implements`의 결속력이 약함
