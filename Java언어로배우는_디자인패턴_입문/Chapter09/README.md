# Chapter9. Bridge - 기능 계층과 구현 계층 분리하기

## 클래스 계층의 두 가지 역할

1. `기능의 클래스 계층`
   - 새로운 '기능'을 추가하고 싶은 경우
   - 새로운 기능 추가 = 새로운 메서드 추가
   - 자식클래스 생성
     - 상위 클래스는 기본적인 기능을 가짐, 하위 클래스에 새로운 기능 추가
   - 새로운 기능을 추가하고 싶은 경우, 클래스 계층 안에서 목적과 가까운 클래스를 찾아내, 하위 클래스를 만들어 목적한 기능을 추가한다.
2. `구현의 클래스 계층`
   - Abstract & Concrete 클래스의 관계
     - 상위 클래스는 추상 메서드로 인터페이스(API)를 규정
     - 하위 클래스는 구상 메서드로 인터페이스(API)를 구현

## Bridge 패턴

> '기능의 클래스 계층'과 '구현의 클래스 계층'을 연결하는 패턴

- 클래스를 만들 때, **'기능을 추가할 것인가? 구현을 수행할 것인가?'** 를 먼저 생각해야함
  - 두 가지가 독립적으로 분리되어야함!
  - 대신 분리만 하면 흩어져버리기 때문에, 두 클래스 계층 사이에 `다리`가 필요!

## 사고 넓히기

> 분리해두면 확장이 편해진다.

- 두 클래스 계층을 분리해두면, 각 클래스 계층을 독립적으로 확장할 수 있음
  - 새로 추가한 기능은 '모든 구현'에서 이용 가능

> 상속은 견고한 연결, 위임은 느슨한 연결

```js
class SomethingGood extends Something {
  // ...
}
```

- 이 관계는 코드를 고쳐쓰지 않는 한 바꿀 수 없는 매우 견고한 연결
- 프로그램의 필요에 따라 클래스 간 관계를 바꾸고 싶을 때는 부적절
  - 이럴땐 `상속`대신 `위임`을 사용!
  - `Display open(`) -> `DisplayImpl rawOpen()` 역할 떠넘기기
- 구현이나 기능을 교체하려면 main 프로그램에서만 교체하면 됨
  - 기존 클래스 수정할 필요 X

## 관련 패턴

**Template Method 패턴**

- '구현의 클래스 계층'을 사용

**Abstract Factory 패턴**

- Bridge 패턴의 ConcreteImplememtor 역할을 구축하는데 쓰이기도 함

**Adapter 패턴**

- 인터페이스(API)가 다른 클래스를 결합시키는 패턴
  - 클래스들을 결합시킨다는 점에서 비슷
