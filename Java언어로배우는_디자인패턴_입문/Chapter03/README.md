# Chapter3. Template Method - 하위 클래스에서 구체적으로 처리하기

## Template Method 패턴

- 템플릿의 기능을 가진 패턴

<img width="500" alt="스크린샷 2021-10-09 오후 8 41 00" src="https://user-images.githubusercontent.com/63178953/136656542-c5154b09-e90d-4626-8ccd-2bfb02de8e79.png">

**클래스의 역할**

1. 상위 클래스
   - 큰 흐름(뼈대) 결정
     - by 추상 메서드
   - 상위 클래스만 보면 추상 메서드를 어떻게 호출하는 지는 알 수 있지만, 구체적으로 어떤 처리가 이루어지는 지는 알 수 X
2. 하위 클래스
   - 구체적인 내용 결정
     - 추상 메서드를 실제로 구현

<br />

## 등장인물

1. 추상 클래스 (Abstract Class)
   - 템플릿 메서드를 구현
   - 사용되는 추상 메서드도 선언
2. 구현 클래스 (Concrete Class)
   - 추상 클래스에 정의된 추상메서드를 구체적으로 구현

<br />

## 장점

- 하위 클래스에서는 알고리즘을 일일이 기술할 필요 X
- 버그 발견시에도 템플릿 메서드만 수정하면 됨
  - concrete는 건드릴 필요 X

<br />

## 주의할 점

- 하위 클래스 종류를 특정하지 않아도 프로그램이 작동하도록 만드는 것이 좋음
- `LSP(The Liskov Substitution Principle)`
  - 상속의 일반적인 원칙
  - "상위 클래스형의 변수에 하위 클래스의 어떤 인스턴스를 대입해도 제대로 작동할 수록 있도록 한다"

<br />

## 관련 패턴

**Factory Method 패턴**

- 템플릿 메서드 패턴을 인스턴스 생성에 응용

**Strategy 패턴**

- '위임'을 이용해 프로그램 동작 변경 가능
- 알고리즘 전체를 완전히 바꿈 (일부 X)
  - 템플릿 메서드는 '상속'을 이용해 프로그램 동작 변경 가능
    - 상위에서 흐름을, 하위에서 구체적 흐름을 결정하므로

<br />
<br />

## 보충: 클래스 계층, 추상 클래스

**하위 클래스의 책임 (subclass responsibility)**

- 상위에서 하위 클래스로 요청
- 하위 클래스는 상위에서 선언된 추상 메서드를 구현할 책임이 생겼다!

**추상 클래스의 의의**

- 추상 클래스는 인스턴스 생성 불가!
- 메서드 이름을 결정, 템플릿을 기술
- 처리 흐름을 형성하는 중요한 역할

**상위 클래스, 하위 클래스의 협조**

> 어느레벨에서 처리를 분배할지 매뉴얼은 없음! 설계자의 몫!

- 상위에서 기술을 많이하면, 하위 클래스의 자유는 줄어듦
- 상위에서 기술을 적게하면, 하위 클래스들의 중복이 늘어남
