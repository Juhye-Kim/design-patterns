# Chapter14. Chain of Responsibility - 책임 떠넘기기

## Chain of Responsibility 패턴

![solution1-en](https://user-images.githubusercontent.com/63178953/137581042-4a6ca4fb-9430-44ab-b8b2-f24ddaeb69a7.png)

> 요구를 처리하는 인스턴스를 사슬처럼 나열해 두고, 요구를 처리할 수 있는지 없는지를 순서대로 검사하는 패턴

- 비유 : 담당 부서의 담당자를 찾을 때까지 다음 사람, 다음 사람으로 요구가 넘겨지는 상황
- 어떤 요청이 발생했을 때, 요청을 처리할 오브젝트를 직접 결정할 수 없는 경우 사용
- 여러 객체를 사슬(chain)처럼 연결하고, 사슬을 차례로 돌아다니며 목적한 객체를 결정하는 방법
  - until 처리가능한 객체 찾을 때까지

<br/>

![1_A-RUUrXZtJmW5ImF853Xsg](https://user-images.githubusercontent.com/63178953/137581048-e031c45f-0251-4d3d-8508-aa38d30779cb.png)

<br/>

## 이 패턴을 사용하면?!

> 요구자와 처리자를 유연하게 연결

- '요청하는 쪽', '처리하는 쪽'의 연결을 유연하게 해서, 각 객체를 독립시킬 수 있음
  - 패턴을 사용하지 않으면, 누군가 '이 요구는 이 사람이 처리한다'는 정보를 `중앙집권적`으로 가지고 있어야함
  - 요구자가 처리자들의 역할까지 알아야한다 = 독립성 훼손

> 동적으로 사슬의 형태를 바꿈

- 상황에 따라 요청을 처리할 객체가 변하는 프로그램에 대응 가능
- '이 요구는 이 처리자'라는 대응관계가 고정되어있으면, 실행 중에 처리자를 변경하기 어려워짐

> 자신의 일에 집중할 수 있다.

- '떠넘기기'는 '자신의 일에 집중할 수 있다'는 의미이기도 함

> 떠넘기기로 처리가 지연되지 않을까..?

- 맞음 (trade-off..)
- 요구와 처리자의 관게가 고정적이고, 처리속도가 중요한 경우에는 사용하지 않는게 좋음

<br/>

## 등장 인물

- **Handler(처리자)**
  - abstract class
  - support()가ㅏ 처리를 담당 (떠넘기기도 담당)
  - ex. Support
- **Concrete Handler (구체적인 처리자)**

<br/>

## 관련 패턴

- **Composite 패턴**
  - Handler 역할에 Composite 패턴이 자주 등장
- **Command 패턴**
  - Handler 역할에 대해 제공되는 '요구'에 Command 패턴이 자주 사용됨
